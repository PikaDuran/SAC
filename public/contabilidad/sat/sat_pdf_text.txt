Documentación para la 
implementación del  
Servicio Web de Verificación de  
Descarga Masiva de CFDI y 
CFDI de retenciones 
 
 
Diciembre 2023 
Versión 1.2

Índice 
1. Introducción ....................................................................................................................................................................... 3 
2. Prerrequisitos ..................................................................................................................................................................... 3 
3. Modo de uso para servicios ....................................................................................................................................... 3 
4. Autenticación para servicios .................................................................................................................................... 4 
5. Servicio de Verificación de Descarga Masiva ................................................................................................. 7 
6. Control de cambios ...................................................................................................................................................... 14

1. Introducción 
El Servicio Descarga Masiva de CFDI y retenciones está diseñado para que los 
contribuyentes en su calidad de emisores o receptores de CFDI puedan recuperar sus 
comprobantes que hayan emitido o recibido por las operaciones comerciales 
realizadas, en este sentido, se llevó a cabo la implementación del Servicio Web (WS por 
sus siglas en inglés) que permite la descarga masiva de CFDI en sus propios equipos 
de cómputo, para lo cual deberá desarrollar un mecanismo de comunicación, el cual 
se diseñó con fin de:  
  
• Generar solicitudes de descarga masiva de CFDI y CFDI de retenciones.  
• Verificar el estatus de las solicitudes realizadas.  
• Permitir realizar la descarga de los archivos XML o metadatos generados en 
archivos compactados mediante las solicitudes que se hayan procesado de manera 
exitosa.  
  
En este texto se describe la forma en la que el contribuyente realizará la comunicación 
para verificar el estatus de las solicitudes de descarga realizadas previamente, a través 
del Servicio de Solicitud de Descarga Masiva, cabe mencionar que algunas 
recomendaciones están enfocadas para realizarse en los equipos de cómputo propios 
del contribuyente, de no ser así, se debe garantizar no poner en riesgo su información 
almacenándola en un equipo que no sea el propio. 
 
2. Prerrequisitos 
El contribuyente debe contar con el certificado de e.firma vigente para solicitar la 
información. 
 
3. Modo de uso para servicios 
A fin de utilizar los servicios Web descritos en el presente documento, es necesario 
crear el cliente de servicios Web correspondiente a partir de la URL del Servicio o la 
URL del WSDL, de acuerdo con las instrucciones de la plataforma desde la que se vaya 
a consumir el servicio web.  
  
Para mayor información acerca de la manera en la que se genera el cliente del servicio 
web, se debe consultar la documentación de la plataforma desde la que consumirá el 
servicio.  
  
Una vez que se creó el cliente, el siguiente paso es verificar el tipo de certificado a enviar 
para realizar la autenticación y posterior consumo de los servicios.

4. Autenticación para servicios 
Para utilizar los servicios Web descritos en el presente documento, es necesario 
autenticarse mediante el certificado de e.firma vigente y su respectiva llave privada.  
   
El tipo de autenticación del servicio cumple con las especificaciones de Web Services 
Security v1.0 (WS-Security 2004): 
https://www.oasis-open.org/standards#wssv1.0   
  
A continuación, se muestra la parte del WSDL de cada uno de los servicios que 
menciona el método de autenticación que se requiere para el consumo de los servicios: 
 
4.1 Servicio de autenticación 
A fin de facilitar la autenticación mediante el uso de la e.firma vigente, se recomienda 
utilizar el almacén local de llaves criptográficas para almacenar y recuperar una llave 
para utilizarla posteriormente, es importante mencionar que esto se puede realizar 
siempre y cuando se esté utilizando su propio equipo de cómputo para establecer la 
comunicación con el Web Service, de no ser así, se debe garantizar que la información 
referente a la e.firma no se almacene en el equipo de un tercero. A continuación se 
muestra un ejemplo de código en C# de cómo obtener un certificad o específico.  
  
Ejemplo 
  
Una vez seleccionado el certificado a utilizar como medio de autenticación, se tiene 
que mandar la petición hacia el servicio de autenticación para poder obtener el token 
que se requiere para usar el Servicio de Verificación de Descarga Masiva, esto se realiza 
de la siguiente manera:  
  
Ejemplo

El código mostrado anteriormente es en C#, pero sirve de ejemplo para ilustrar cómo 
enviar estos certificados a los servicios descritos y poder obtener el token de 
autenticación correspondiente. 
 
Ahora se muestra un ejemplo de cómo se ve una petición hacia el servicio de 
autenticación: 
 
 
 
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/" 
xmlns:u="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-
1.0.xsd"> 
<s:Header> 
<o:Security s:mustUnderstand="1" xmlns:o="http://docs.oasis-open.org/wss/2004/01/oasis-
200401-wss-wssecurity-secext-1.0.xsd"> 
<u:Timestamp u:Id="_0"> 
<u:Created>2018-05-09T21:21:42.953Z</u:Created> 
<u:Expires>2018-05-09T21:26:42.953Z</u:Expires> 
</u:Timestamp> 
<o:BinarySecurityToken u:Id="uuid-572bbc7a-287d-4233-bdcb-75f92418becd-1" 
ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-
1.0#X509v3" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-
soap-message-security-
1.0#Base64Binary">MIIGiDCCBHCgAwIBAgIUMzAwMDEwMDAwMDAzMDAwMjkwODE
wDQYJKoZIhvcNAQELBQAwggFmMSAwHgYDVQQDDBdBLkMuIDIgZGUgcHJ1ZWJhcyg
0MDk2KTEvMC0GA1UECgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaW
J1dGFyaWExODA2BgNVBAsML0FkbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUg
bGEgSW5mb3Jt YWNpw7NuMSkwJwYJKoZIhvcNAQkBFhphc2lzbmV0QHBydWViYXMuc

2F0LmdvYi5teDEmMCQGA1UECQwdQXYuIEhpZGFsZ28gNzcsIENvbC4gR3VlcnJlcm8xDj
AMBgNVBBEMBTA2MzAwMQswCQYDVQQGEwJNWDEZMBcGA1UECAwQRGlzdHJpdG8
gRmVkZXJhbDESMBAGA1UEBwwJQ295b2Fjw6FuMRUwEwYDVQQtEwxTQVQ5NzA3MD
FOTjMxITAfBgkqhkiG9w0BCQIMElJlc3BvbnNhYmxlOiBBQ0RNQTAeFw0xNzEwMjUxND
U5NDhaFw0yMTEwMjQxNDU5NDhaMIIBQTFEMEIGA1UEAxM7Q09SUE9SQVRJVk8gSU5
NT0JJTElBUklPIERFIENPTlRST0wgWSBBU0VTT1JJQSBTIEEgQiBERSBDIFYxRDBCBgNVB
CkTO0NPUlBPUkFUSVZPIElOTU9CSUxJQVJJTyBERSBDT05UUk9MIFkgQVNFU09S	SUEg
UyBBIEIgREUgQyBWMUQwQgYDVQQKEztDT1JQT1JBVElWTyBJTk1PQklMSUFSSU8gRE
UgQ09OVFJPTCBZIEFTRVNPUklBIFMgQSBCIERFIEMgVjELMAkGA1UEBhMCTVgxGTAXB
gkqhkiG9w0BCQEWCmFhQHNhdC5nb2IxJTAjBgNVBC0THEFYVDk0MDcyN0ZQOCAvIF
ZBQUU3MzEwMjExMjExHjAcBgNVBAUTFSAvIFZBQUU3MzEwMjFIREZS	R1IwNTCCASIwD
QYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKyJR9I+BClVEKhvf2VhoucqdbnwaKAol
x3x1Ce3XeLBm8mj0z7cHiRr+u8VUNZeMWMKNsJDJAzxQwqpjIzD7boCbxGoiNw3zEEGzk
EugcCu7J4IfW7s0Bf1FWzeqwsOU6COAIfdtfa1a6nPs9GPiMO+XiuyBxPzotVhlmfcZX0Ly7G
OkhLRJm5ezvSU4d7afBJ6BZEb/hrFamnI CgTyzXVNkRlQUEJ1pcDQNMz4wAoRIlmcvujYg
r1VTMfkLXmsJVJNun/ybojfQ1ALjCVBmCqQfw5uO1VMUYz0wO83FjEGWFK7/JdzPnTT21dp
yR0z1HSGOYXHthwNjaF0uoUegUsCAwEAAaNPME0wDAYDVR0TAQH/BAIwADALBgNV
HQ8EBAMCA9gwEQYJYIZIAYb4QgEBBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFB
wMEBggrBgEFBQcDAjANBgkq hkiG9w0BAQsFAAOCAgEATnZwK/g+L90DjyeSCIw420V
O8HkaxpBPqUOdZsuEo23Y//bBFXXtENsm/8djRpVM39L898+Ak4Re9Ln3pdd/RQ3AAUZt
RZtaCJnxiGVOh/NyMCQLi1lH3P0ODEE7i5RBcld+9sR7LVapQ3DnxJ8/bKr4MlY+KrChU/GKj
W7KjHe+CaIoALUJKy83sLekF1MPVZASf+Q3XXAtleWjQta6iBCW42MRheG/VWVxbB+w4H
jNPeEcrvw/WDdamCZaEwe85ZJjhcjlZOPmt6U7Pf+rOVCWFAaIku6S+hSynvmNs2WViqC
02zl2kc757nOyU6KEFOC0U2hnsUMXIjlR0VGrU526rNS8Wprv3fofcMDv/9z+igMc01x7mNA
MI8oVdfAvGrsuCoEaPUFqCBtNbVmqOVx6FQdajyf8vACMfwp3R+S3Wk3ITgOSds5j9UAA
ABeXrsQ1DKFzjd87FdWpyucLpqfURIGHOoXb6cVoL1x4mQLp B1blaMokEO1NxxaaEU1I2La
tt+3hS+HMTNRzqy/6dqiBaTMxljMMWfr4PO6MCd4sz0ARnuEkYGCtW7NG9Bdi0ISDw4Dr
KCOlq6tEPCxh91EurhNR+UYCpuFsubg2Hu26CTJZuE175E2Jp+GI6I8KrsYxKZMKIHL1CJgZ
SVExllmBzBGtjbxIkdqIH4307gs=</o:BinarySecurityToken> 
<Signature xmlns="http://www.w3.org/2000/09/xmldsig#"> 
<SignedInfo> 
<CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml -exc-c14n#" /> 
<SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa -sha1" /> 
<Reference URI="#_0"> 
<Transforms> 
<Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" /> 
</Transforms> 
<DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" /> 
<DigestValue>Ij+Epaya2U5D/sSncI6BHkkTRWo=</DigestValue> 
</Reference> 
</SignedInfo> 
<SignatureValue>EIY2h4gE3G8+K2kkoFxVwHqeTbdlA4fCHok4lOA+0hUloAkBipza4gUt5
QsTmMi5z8ZZwV2E8tFWHOiZ1VaD01V6GigGwAXtAhDLJRQ9VQH/26QF9Q+5SnLMBNqt
0SNU2T3LYruwpGXq4jW4hbTELuuMg/+c3hxXdFyvmU5sajRYbVm+Vqya4IJQ+aZfR4d9Zf
WgW2t7Svv9WL4ikaizyWbTGN5Llasr69AzS2g87JfHq7mb mycl+BL/Enu5EZdf/K/r/UykmD
vN9sdUMdUCRcT3A2M66VHDcOZYnVxUkR7yV8NC8MLP2Hz3wIrKPRUQm4qjFQOi4fpqt
InXwwKpMg==</SignatureValue> 
<KeyInfo> 
<o:SecurityTokenReference> 
<o:Reference ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-
token-profile-1.0#X509v3" URI="#uuid-572bbc7a-287d-4233-bdcb-75f92418becd-1" /> 
</o:SecurityTokenReference> 
</KeyInfo>

</Signature> 
</o:Security> 
<To s:mustUnderstand="1" 
xmlns="http://schemas.microsoft.com/ws/2005/05/addressing/none">https://desktop -
3fi24u7:444/Autenticacion/Autenticacion.svc</To> 
<Action s:mustUnderstand="1" 
xmlns="http://schemas.microsoft.com/ws/2005/05/addressing/none">http://DescargaMas
ivaTerceros.gob.mx/IAutenticacion/Autentica</Action> 
</s:Header> 
<s:Body> 
<Autentica xmlns="http://DescargaMasivaTerceros.gob.mx" /> 
</s:Body> 
</s:Envelope> 
 
 
Si existe algún error durante la autenticación y no se obtiene el token no se podrán 
utilizar los demás servicios; otro punto a considerar es que al consumir los servicios se 
validará el token enviado, si este es válido se puede hacer uso de los métodos 
expuestos de cada uno, en caso contrario se mandará una excepción de autenticación 
y no se podrá hacer uso del Web Service.  
  
Nota: El servicio de autenticación descrito en esta sección es el mismo a utilizar para 
los servicios de Solicitud de Descarga Masiva, Verificación Descarga Masiva y Descarga 
Masiva. 
 
5. Servicio de Verificación de Descarga Masiva 
Es un servicio web que permite verificar el estatus de las solicitudes de descarga 
realizadas previamente a través del Servicio de Solicitud de Descarga Masiva, en caso 
de que la solicitud de descarga haya sido aceptada y se encuentre con estatus de 
terminado, este servicio de verificación devolverá los identificadores de los paquetes 
que conforman la solicitud de descarga. Este WS está compuesto por la siguiente 
operación: 
 
 
5.1 VerificaSolicitudDescarga. 
 
Esta operación permite verificar el estatus de la solicitud de descarga masiva realizada 
previamente, la cual contiene los siguientes parámetros:

Parámetro Tipo de 
dato 
Descripción 	Tipo de 
parámetro 
Authorization Header Contiene el token de autenticación que se 
obtuvo en el servicio correspondiente, se 
debe de usar el nombre “Authorization” y 
el valor debe de ser en el siguiente 
formato “WRAP access_token="Token"”  
Entrada 
IdSolicitud String Contiene el Identificador de la solicitud 
que se pretende consultar. 
Entrada 
RfcSolicitante String Contiene el RFC del solicitante que 
generó la petición de solicitud de 
descarga masiva. 
Entrada 
Signature SignatureT
ype 
Firma de la petición realizada con el 
certificado de e.firma. 
Entrada 
IdsPaquetes Lista o 
secuencia 
con datos 
de tipo 
String 
Contiene los identificadores de los 
paquetes que componen la solicitud de 
descarga masiva. Solo se devuelve 
cuando la solicitud posee un estatus de 
finalizado.  
 
Salida 
EstadoSolicitud Int Contiene el número correspondiente al 
estado de la solicitud de descarga. 
 
Estados de la solicitud: 
 
• Aceptada=1 
• En Proceso=2 
• Terminada=3 
• Error=4 
• Rechazada=5 
• Vencida= 6 
 
*Esta sucede 72 horas después de que se 
generó el paquete de descarga. 
Salida 
CodigoEstadoSolici
tud 
String Contiene el código de estado de la 
solicitud de descarga, el cual puede ser 
5000, 5001, 5002 o 5005, para más 
información referente a estos códigos , 
favor de consultar el documento 
Documentación WS Solicitud Descarga 
Masiva.docx. 
Salida 
NumeroCFDIs Int Número de CFDI que conforman la 
solicitud de descarga consultada. 
Salida 
CodEstatus String Código de estatus de la petición de 
verificación. 
Salida 
Mensaje String Pequeña descripción del código 
correspondiente a la petición de 
verificación. 
Salida

Ejemplo de petición a la operación “VerificaSolicitudDescarga” del Servicio de 
Verificación Descarga Masiva 
 
 
 
POST  
https://srvsolicituddescargamaster.cloudapp.net/VerificaSolicitudDescargaService.svc HTTP/1.1 
Accept-Encoding: gzip,deflate 
Content-Type: text/xml;charset=UTF-8 
SOAPAction: 
"http://DescargaMasivaTerceros.sat.gob.mx/IVerificaSolicitudDescargaService/VerificaSolicitudDesc
arga" 
Authorization: WRAP 
access_token="eyJhbGciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNob
WFjLXNoYTI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE1MjU5NzAyNzEsImV4cCI6MTUyNTk3MDg3MSwia
WF0IjoxNTI1OTcwMjcxLCJpc3MiOiJMb2FkU2VydmljaW9EZWNhcmdhTWFzaXZhVGVyY2Vyb3MiLC
JhY3RvcnQiOiIzMzMwMzAzMDMxMzAzMDMwMzAzMDMwMzMzMDMwMzAzMjM5MzAzODMxIn0.
yJrEarIKf0WdQpGd1J125G7namg33Exm -yzsy1f7-
Nc&wrap_subject=3330303031303030303030333030303239303831" 
Content-Length: 4641 
Host: srvsolicituddescargamaster.cloudapp.net 
Connection: Keep-Alive 
User-Agent: Apache-HttpClient/4.1.1 (java 1.5) 
 
 
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/ envelope/" 
xmlns:des="http://DescargaMasivaTerceros.sat.gob.mx" 
xmlns:xd="http://www.w3.org/2000/09/xmldsig#"> 
   <soapenv:Header/> 
   <soapenv:Body> 
      <des:VerificaSolicitudDescarga> 
         <!--Optional:-->

<des:solicitud IdSolicitud="4E80345D-917F-40BB-A98F-4A73939343C5" 
RfcSolicitante="AXT940727FP8"> 
            <!--Optional:--> 
            <Signature xmlns="http://www.w3.org/2000/09/xmldsig#"> 
               <SignedInfo> 
                  <CanonicalizationMethod Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-
20010315"/> 
                  <SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa -sha1"/> 
                  <Reference URI=""> 
                     <Transforms> 
                        <Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped -signature"/> 
                     </Transforms> 
                     <DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/> 
                     <DigestValue>leZ4dK/Q/RNbckYkY7WOOnCjK5Q=</DigestValue> 
                 </Reference> 
               </SignedInfo> 
               
<SignatureValue>BuuRjPmgk4Qwl2ER7vjL7+57WiqNZMRD12Hjfh65irEI1Cu8biQSqeHHiaZ7NnmB/L
sjyGaHQmZMW50mfnDtNzowAdytB6FS0RNUNLoajAZAdii8bYHYoW0BqrLaXSImwbZYaHgi4TlPch
1OpXZHmUOqfS1qnEEsRXVBN2Dv Eh1RbAYupmQxBMW75eo4HZZm/lRug44mb47Evm9428ejTzTn
u6LDPEAZEmHV4jOwRzqmM4GgiW7aEptqHOhdSxV+QzPSQ2/H5s8AZZ41LCK+3gSdCq3Kmf9S2H
5R3BRS6VSam5J9xa0I2CvzJf/REwrxHsc7Xk9uXwXWOofjeTI1Bw==</SignatureValue> 
               <KeyInfo> 
                  <X509Data> 
                    <X509IssuerSerial> 
                        <X509IssuerName>OID.1.2.840.113549.1.9.2=Responsable: ACDMA, 
OID.2.5.4.45=SAT970701NN3, L=Coyoacán, S=Distrito Federal, C=MX, PostalCode=06300, STREET="Av. 
Hidalgo 77, Col. Guerrero", E=asisnet@pruebas.sat.gob.mx, OU=Administración de Seguridad de la 
Información, O=Servicio de Administración Tributaria, CN=A.C. 2 de 
pruebas(4096)</X509IssuerName> 
                        
<X509SerialNumber>292233162870206001759766198425879490509036075057</X509SerialNumbe	r
> 
                     </X509IssuerSerial> 
                     
<X509Certificate>MIIGiDCCBHCgAwIBAgIUMzAwMDEwMDAwMDAzMDAwMjkwODEwDQYJKoZIh
vcNAQELBQAwggFmMSAwHgYDVQQDDBdBLkMuIDIgZGUgcHJ1ZWJhcyg0MDk2KTEvMC0GA1UE
CgwmU2VydmljaW8gZGUgQWRtaW5pc3RyYWNpw7NuIFRyaW	J1dGFyaWExODA2BgNVBAsML0F
kbWluaXN0cmFjacOzbiBkZSBTZWd1cmlkYWQgZGUgbGEgSW5mb3JtYWNpw7NuMSkwJwYJKoZI
hvcNAQkBFhphc2lzbmV0QHBydWViYXMuc2F0LmdvYi5teDEmMCQGA1UECQwdQXYuIEhpZGFsZ2
8gNzcsIENvbC4gR3VlcnJlcm8xDjAMBgNVBBEMBTA2MzAwMQswCQYDVQQGEwJNWDEZMBcGA1
UECAwQRGlzdH JpdG8gRmVkZXJhbDESMBAGA1UEBwwJQ295b2Fjw6FuMRUwEwYDVQQtEwxTQ
VQ5NzA3MDFOTjMxITAfBgkqhkiG9w0BCQIMElJlc3BvbnNhYmxlOiBBQ0RNQTAeFw0xNzEwMjUxN
DU5NDhaFw0yMTEwMjQxNDU5NDhaMIIBQTFEMEIGA1UEAxM7Q09SUE9SQVRJVk8gSU5NT0JJTEl
BUklPIERFIENPTlRST0wgWSBBU0VTT1JJQSBTIEEgQiBERS BDIFYxRDBCBgNVBCkTO0NPUlBPUkF
USVZPIElOTU9CSUxJQVJJTyBERSBDT05UUk9MIFkgQVNFU09SSUEgUyBBIEIgREUgQyBWMUQw
QgYDVQQKEztDT1JQT1JBVElWTyBJTk1PQklMSUFSSU8gREUgQ09OVFJPTCBZIEFTRVNPUklBIFMg
QSBCIERFIEMgVjELMAkGA1UEBhMCTVgxGTAXBgkqhkiG9w0BCQEWCmFhQHNhdC5nb2IxJTAjBg
NVBC0THEFYVDk0MDcyN0ZQOCAvIFZBQUU3MzEwMjExMjExHjAcBgNVBAUTFSAvIFZBQUU3MzE
wMjFIREZSR1IwNTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKyJR9I+BClVEKhvf2V
houcqdbnwaKAolx3x1Ce3XeLBm8mj0z7cHiRr+u8VUNZeMWMKNsJDJAzxQwqpjIzD7boCbxGoiNw3
zEEGzkEugcCu7J4IfW7s0Bf1FWzeqwsOU6 COAIfdtfa1a6nPs9GPiMO+XiuyBxPzotVhlmfcZX0Ly7GOk
hLRJm5ezvSU4d7afBJ6BZEb/hrFamnICgTyzXVNkRlQUEJ1pcDQNMz4wAoRIlmcvujYgr1VTMfkLXms

JVJNun/ybojfQ1ALjCVBmCqQfw5uO1VMUYz0wO83FjEGWFK7/JdzPnTT21dpyR0z1HSGOYXHthwNja
F0uoUegUsCAwEAAaNPME0wDAYDVR0TAQH/BAIwADALBgNVHQ8EBA	MCA9gwEQYJYIZIAYb4Q
gEBBAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMEBggrBgEFBQcDAjANBgkqhkiG9w0BAQ
sFAAOCAgEATnZwK/g+L90DjyeSCIw420VO8HkaxpBPqUOdZsuEo23Y//bBFXXtENsm/8djRpVM39L
898+Ak4Re9Ln3pdd/RQ3AAUZtRZtaCJnxiGVOh/NyMCQLi1lH3P0ODEE7i5RBcld+9sR7LVapQ3DnxJ
8/bKr4MlY+KrChU/GKjW7KjHe+CaIoALUJKy83sLekF1MPVZASf+Q3XXAtleWjQta6iBCW42MRheG/V
WVxbB+w4HjNPeEcrvw/WDdamCZaEwe85ZJjhcjlZOPmt6U7Pf+rOVCWFAaIku6S+hSynvmNs2WVi
qC02zl2kc757nOyU6KEFOC0U2hnsUMXIjlR0VGrU526rNS8Wprv3fofcMDv/9z+igMc01x7mNAMI8oVd
fAvGrsuCoEaPUFqCBtNbVmqOVx6FQdajy f8vACMfwp3R+S3Wk3ITgOSds5j9UAAABeXrsQ1DKFzjd8
7FdWpyucLpqfURIGHOoXb6cVoL1x4mQLpB1blaMokEO1NxxaaEU1I2Latt+3hS+HMTNRzqy/6dqiBaT
MxljMMWfr4PO6MCd4sz0ARnuEkYGCtW7NG9Bdi0ISDw4DrKCOlq6tEPCxh91EurhNR+UYCpuFsub
g2Hu26CTJZuE175E2Jp+GI6I8KrsYxKZMKIHL1CJgZSVExllmBzBGtjb xIkdqIH4307gs=</X509Certificat
e> 
                  </X509Data> 
               </KeyInfo> 
            </Signature> 
 
         </des:solicitud> 
      </des:VerificaSolicitudDescarga> 
   </soapenv:Body> 
</soapenv:Envelope> 
 
 
En el ejemplo anterior se puede visualizar que la petición va dividida en dos partes: 
 
• La primera es el Header, que contiene el token de autenticación, del cual se puede 
encontrar el detalle en el tema 4 Autenticación para servicios.  
  
• La segunda es aquella que contiene la petición hacia el servicio con los parámetros 
ya establecidos anteriormente, como se mencionó en el punto de la autenticación 
esta operación del Web Service solo puede ser usada siempre y cuando se haya 
autenticado de manera exitosa y el token sea válido en el momento en que se 
intenta consumir.

Ejemplo de respuesta de la operación VerificaSolicitudDescarga del servicio 
de Verificación Descarga Masiva 
 
 
 
HTTP/1.1 200 OK 
Content-Type: text/xml; charset=utf-8 
Content-Encoding: gzip 
Vary: Accept-Encoding 
Server: Microsoft-IIS/10.0 
X-Powered-By: ASP.NET 
Date: Thu, 10 May 2018 16:38:15 GMT 
Content-Length: 430 
 
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"> 
   <s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema -instance" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema"> 
      <VerificaSolicitudDescargaResponse xmlns="http://DescargaMasivaTerceros.sat.gob.mx"> 
         <VerificaSolicitudDescargaResult CodEstatus="5000" EstadoSolicitud="3" 
CodigoEstadoSolicitud="5000" NumeroCFDIs="0" Mensaje="Solicitud Ace ptada"> 
            <IdsPaquetes>4e80345d-917f-40bb-a98f-4a73939343c5_01</IdsPaquetes> 
            <IdsPaquetes>4e80345d-917f-40bb-a98f-4a73939343c5_02</IdsPaquetes> 
            <IdsPaquetes>4e80345d-917f-40bb-a98f-4a73939343c5_03</IdsPaquetes> 
            <IdsPaquetes>4e80345d-917f-40bb-a98f-4a73939343c5_04</IdsPaquetes> 
            <IdsPaquetes>4e80345d-917f-40bb-a98f-4a73939343c5_05</IdsPaquetes> 
            <IdsPaquetes>4e80345d-917f-40bb-a98f-4a73939343c5_06</IdsPaquetes> 
         </VerificaSolicitudDescargaResult> 
      </VerificaSolicitudDescargaResponse> 
   </s:Body> 
</s:Envelope> 
 
En el ejemplo mostrado en la imagen anterior se puede ver que la respuesta contiene 
los parámetros de salida mencionados anteriormente.

Nota importante: Las direcciones electrónicas (URL) que se integran en esta 
documentación, son solo referencia para la correcta interpretación de los ejemplos 
contenidos, por lo que las URL válidas para la implementación del Web Service, están 
publicadas en la sección Consulta y Recuperación de Comprobantes, del apartado de 
Factura Electrónica en el Portal del SAT. 
 
Mensajes recibidos desde la operación “VerificaSolicitudDescarga” del Servicio 
de Verificación Descarga Masiva 
 
Evento Mensaje 	Observaciones 
300 Usuario No Válido 
301 XML Mal Formado Este código de error se regresa cuando el request posee 
información inválida, ejemplo: un RFC de receptor no 
válido. 
302 Sello Mal Formado 
303 Sello no corresponde con 
RfcSolicitante 
 
304 Certificado Revocado o 
Caduco 
El certificado fue revocado, o bien, la fecha de vigencia 
expiró. 
305 Certificado Inválido El certificado puede ser inválido por múltiples razones 
como son el tipo, codificación incorrecta, entre otros. 
5000 Solicitud recibida con éxito  
5003 Tope máximo de elementos 
de la consulta" 
La solicitud sobrepasa el máximo de resultados por tipo 
de solicitud (Metadata y CFDI)  
5004 No se encontró la 
información 
No se encontró la información de la solicitud de descarga 
que se pretende verificar. 
5011 Límite de descargas por folio 
por día 
Se ha alcanzado o sobrepasado el límite de descargas 
diarias por folio. 
 
Códigos de Solicitud de Descarga Masiva 
 
Evento Mensaje 	Observaciones 
5000  Solicitud recibida con éxito  Indica que la solicitud de descarga que se está verificando 
fue aceptada.  
5002  Se agotó las solicitudes de 
por vida  
Para el caso de descarga de tipo CFDI, se tiene un límite 
máximo para solicitudes con los mismos parámetros 
(Fecha inicial, Fecha final, RfcEmisor, RfcReceptor).  
5003  Tope máximo  	Indica que con base en los parámetros de consulta se está 
superando el tope máximo de CFDI o Metadata, por 
solicitud de descarga masiva.  
5004  No se encontró la 
información  
Indica que la solicitud de descarga que se está verificando 
no generó paquetes por falta de información.  
5005  Solicitud duplicada  En caso de que exista una solicitud vigente con los 
mismos parámetros (Fecha inicial, Fecha final, RfcEmisor, 
RfcReceptor, TipoSolicitud), no se permitirá generar una 
nueva solicitud.  
404  Error no controlado  Error genérico, en caso de presentarse realizar 
nuevamente la petición y si persiste el error levantar un 
RMA.

6. Control de cambios 
A continuación, se muestra un resumen de los cambios realizados al documento. 
 
 
 
Cambio realizado 	Fecha del cambio 
1. Introducción: se precisa que la documentación contiene 
recomendaciones que pueden aplicarse siempre y cuando se 
utilice un equipo propio que no comprometa la información. 
14/08/2018 
2. Autenticación para Servicios. Servicio de autenticación: Se precisa 
que la e.firma no debe almacenarse en el repositorio de llaves 
criptográficas si no se está utilizando un equipo propio, a fin de no 
comprometer la información. 
14/08/2018 
3. Se incorpora la descripción referente a los códigos de evento 5003 
y 5011 del Servicio de Verificación de Descarga Masiva. 
29/11/2023